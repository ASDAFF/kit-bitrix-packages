"use strict";document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("header-three"),t=document.getElementById("bx-panel"),n=document.querySelector(".header-three__search-wrap"),r=document.querySelector(".header-three__search-icon-open"),a=document.querySelector(".header-three__search-icon-close"),o=document.querySelector(".header-three__contact"),i=document.getElementById("search"),s=document.querySelector(".slider-header-three"),c=document.getElementById("title-search-input"),d=i.querySelector(".title-search-result"),u=i.querySelector(".header-search__btn-search");l(),m(),window.addEventListener("scroll",function(){l(),m()}),window.addEventListener("resize",function(){m(),s&&(s.style.height="100vh")}),t&&new MutationObserver(m).observe(t,{attributes:!0});function l(){window.pageYOffset>e.offsetHeight?(e.classList.remove("header-three--unfixed"),n.classList.remove("search-wrap--unfixed")):(e.classList.add("header-three--unfixed"),n.classList.add("search-wrap--unfixed"),e.style.top="")}function m(){e.classList.contains("header-three--unfixed")||(t&&t.classList.contains("bx-panel-fixed")?e.style.top=h(t)+"px":window.pageYOffset>=h(t)?e.style.top="0px":e.style.top=h(t)-window.pageYOffset+"px")}function h(e){return e?e.offsetHeight:0}r.addEventListener("click",function(){i.classList.add("transitionOn"),n.classList.remove("search-wrap--close"),n.classList.remove("search-wrap--hide-input"),n.classList.add("search-wrap--open"),u.classList.remove("hidden"),setTimeout(function(){a.classList.add("show"),o.classList.add("hidden")},1e3)}),a.addEventListener("click",function(){c.value="",d.style.display="none",n.classList.add("search-wrap--close"),n.classList.remove("search-wrap--open"),o.classList.remove("hidden"),setTimeout(function(){return a.classList.remove("show")},600),setTimeout(function(){i.classList.remove("transitionOn"),u.classList.add("hidden"),i.classList.remove("transitionOn"),n.classList.add("search-wrap--hide-input")},1e3)})}),document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("menu-city"),t=document.querySelector('[data-entity="open_region"]'),n=document.getElementById("menu-compare-count"),r=document.getElementById("menu-favorites-count"),a=document.getElementById("menu-basket-count"),o=document.getElementById("compare-count"),i=document.getElementById("favorites-count"),s=document.getElementById("basket-count"),c=document.querySelector(".header-three__city");u(),l(),new MutationObserver(u).observe(c,{childList:!0,subtree:!0});var d=document.querySelector(".header-three__basket");function u(){t&&e&&h(t,e)}function l(){o=document.getElementById("compare-count"),i=document.getElementById("favorites-count"),s=document.getElementById("basket-count"),o&&(h(o,n),m(n)),i&&(h(i,r),m(r)),s&&(h(s,a),m(a))}function m(e){0===parseInt(e.innerText)||e.classList.contains("active")||e.classList.add("active"),0===parseInt(e.innerText)&&e.classList.remove("active")}function h(e,t){t.innerText=e.innerText.replace(/\r?\n/g,"")}new MutationObserver(l).observe(d,{childList:!0,subtree:!0});var v=document.querySelectorAll(".section__item-submenu"),_=!0,w=!1,y=void 0;try{for(var f,L=function(){var t=f.value,e=t.previousElementSibling,n=t.offsetHeight;e.dataset.submenu=!0,t.style.height="0px",e.addEventListener("click",function(e){e.currentTarget.classList.toggle("open"),e.currentTarget.classList.contains("open")?t.style.height=n+"px":t.style.height="0px"})},g=v[Symbol.iterator]();!(_=(f=g.next()).done);_=!0)L()}catch(e){w=!0,y=e}finally{try{_||null==g.return||g.return()}finally{if(w)throw y}}var p=document.querySelector("#menu-header-three"),S=p.querySelector(".menu__overlay"),q=document.querySelector('[data-entity="close_menu"]'),b=document.querySelector('[data-entity="open_menu"]');b&&b.addEventListener("click",function(e){p.classList.add("show")}),q.addEventListener("click",function(e){p.classList.remove("show")}),S.addEventListener("click",function(e){p.classList.remove("show")});var E=p.querySelector(".menu__wrap-scroll");new PerfectScrollbar(E,{wheelSpeed:.5,wheelPropagation:!0,minScrollbarLength:20})}),$(document).ready(function(){var u=[];function l(e,t){return t<e?t:e}function s(e){for(var t=document.querySelectorAll(".header-two__main-navigation .header-two__main-nav-item"),n=0;t.length>n;n++)t[n].querySelector(".header-two__nav-submenu")&&(t[n].querySelector(".header-two__nav-submenu").classList.remove("header-two__nav-submenu--right"),t[n].querySelector(".header-two__nav-submenu").classList.add("header-two__nav-submenu--left"));for(var r=e;0<r;r--){var a=t[t.length-r];a.querySelector(".header-two__nav-submenu")&&(a.querySelector(".header-two__nav-submenu").classList.remove("header-two__nav-submenu--left"),a.querySelector(".header-two__nav-submenu").classList.add("header-two__nav-submenu--right"))}}function m(){for(var e=document.documentElement.clientWidth,t=document.querySelector(".header-two__main-nav"),n=t.clientWidth,r=document.querySelectorAll(".header-two__main-navigation > div"),a=document.querySelector(".header-two__main-nav-catalog").clientWidth,o=0;r.length>o;o++)a+=r[o].offsetWidth;if(l(e,n)<a){if(!document.querySelector(".header-two__main-nav-item-more")){var i=document.createElement("div");i.classList.add("header-two__main-nav-item-more");var s=document.createElement("div");s.classList.add("header-two__nav-submenu"),s.classList.add("header-two__nav-submenu--right"),i.innerHTML='<svg class="site-navigation__item-icon-more" width="24" height="18"><use xlink:href="/local/templates/sotbit_origami/assets/img/sprite.svg#icon_more"></use></svg>',i.appendChild(s),document.querySelector(".header-two__main-navigation").appendChild(i)}var c=document.querySelectorAll(".header-two__main-navigation > .header-two__main-nav-item"),d=c[c.length-1].parentNode.removeChild(c[c.length-1]);u.push(a),document.querySelector(".header-two__main-nav-item-more .header-two__nav-submenu").insertBefore(d,document.querySelector(".header-two__main-nav-item-more .header-two__nav-submenu .header-two__main-nav-item")),m()}t.classList.remove("load")}s(3),m(),window.addEventListener("resize",function(e){for(var t=document.documentElement.clientWidth,n=document.querySelector(".header-two__main-nav").clientWidth,r=document.querySelectorAll(".header-two__main-navigation > div"),a=document.querySelector(".header-two__main-nav-catalog").clientWidth,o=0;r.length>o;o++)a+=r[o].offsetWidth;l(t,n)<a&&m();var i=u[u.length-1];i<n&&i&&function(){u.pop();var e=document.querySelector(".header-two__main-nav-item-more .header-two__main-nav-item").parentNode.removeChild(document.querySelector(".header-two__main-nav-item-more .header-two__main-nav-item"));document.querySelector(".header-two__main-navigation").insertBefore(e,document.querySelector(".header-two__main-nav-item-more"))}(),document.querySelector(".header-two__main-nav-item-more")&&(document.querySelector(".header-two__main-nav-item-more .header-two__nav-submenu").childNodes[0]||document.querySelector(".header-two__main-nav-item-more").parentNode.removeChild(document.querySelector(".header-two__main-nav-item-more"))),s(3)}),window.refreshMenu();var t=document.querySelector(".header-two__main-nav-catalog");t.addEventListener("touchstart",function(e){e.preventDefault(),t.classList.contains("hover")?t.classList.remove("hover"):t.classList.add("hover")}),t.addEventListener("mouseenter",function(e){t.classList.contains("hover")&&t.classList.remove("hover"),t.classList.add("hover")}),t.addEventListener("mouseleave",function(e){t.classList.contains("hover")&&t.classList.remove("hover")}),window.addEventListener("resize",function(e){t.classList.contains("hover")&&t.classList.remove("hover")})});