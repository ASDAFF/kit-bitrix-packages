$namespace: 'bitrix';
$component: 'menu';
$template: 'popup-2';
$class: #{$component};

.ns-#{$namespace}.c-#{$component}.c-#{$component}-#{$template} {
  .#{$class}-button {
    display: block;
    font-size: 20px;
    font-weight: normal;
    color: #1d1d1d;
    line-height: 1;
    cursor: pointer;

    -webkit-transition: color 350ms;
    -moz-transition: color 350ms;
    -ms-transition: color 350ms;
    -o-transition: color 350ms;
    transition: color 350ms;

    &:hover {
      color: #0065ff;
    }
  }

  .#{$class} {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #fff;
    opacity: 0;
    z-index: 1;

    &-wrapper,
    &-wrapper-2 {
      display: block;
      position: relative;
      height: 100%;
    }

    &-panel {
      display: block;
      position: absolute;
      width: 100%;
      height: 164px;
      z-index: 1;
      padding: 0px;

      &-wrapper {
        height: 100%;
      }

      &-button {
        width: 22px;
        font-size: 22px;
        line-height: 1;
        cursor: pointer;
        color: #1d1d1d;

        -webkit-transition: color 350ms;
        -moz-transition: color 350ms;
        -ms-transition: color 350ms;
        -o-transition: color 350ms;
        transition: color 350ms;

        &:hover {
          color: #0065ff;
        }
      }

      &-logotype {
        display: inline-block;
        vertical-align: middle;
        width: 130px;
        color: #1d1d1d;
        text-decoration: none;

        svg {
          max-height: 50px;
        }

        svg,
        svg path {
          fill: #fff !important;
        }

        &-wrap {
          text-align: center;
        }
      }

      .ns-bitrix.c-search-title.c-search-title-input-1 {
        .search-title-input {
          font-size: 14px;
          color: #1d1d1d;
        }

        .search-title-button {
          font-size: 22px;
        }
      }

      &-contacts {
        .menu-panel-phone {
          display: block;
          position: relative;
          white-space: nowrap;
          padding-left: 20px;
          font-size: 0;

          %menu-panel-phone-item {
            display: inline-block;
            vertical-align: middle;
          }

          &-content {
            @extend %menu-panel-phone-item;

            position: relative;
          }

          &-text {
            font-size: 21px;
            line-height: 26px;
            color: #2d2d2d;
            text-decoration: none;
            font-weight: bold;

            -webkit-transition: 350ms color;
            -moz-transition: 350ms color;
            -ms-transition: 350ms color;
            -o-transition: 350ms color;
            transition: 350ms color;

            &:hover {
              color: #0065ff;
            }
          }

          &-popup {
            position: absolute;
            opacity: 0;
            top: 100%;
            left: -20px;
            right: -20px;
            padding-top: 20px;
            white-space: normal;
            z-index: 1;
            -webkit-transition: opacity 0.3s;
            transition: opacity 0.3s;
            pointer-events: none;
            position: absolute;
            -webkit-perspective: 2000px;
            perspective: 2000px;

            &-wrapper {
              padding: 10px;
              background: #fff;
              width: 100%;
              min-width: 140px;
              -webkit-box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
              -moz-box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
              box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
              will-change: transform;
              -webkit-transform-origin: 50% -50px;
              transform-origin: 50% -50px;
              -webkit-transform: rotateX(-15deg);
              transform: rotateX(-15deg);
              -webkit-transition: -webkit-transform 0.2s;
              transition: -webkit-transform 0.2s;
              transition: transform 0.2s;
              transition: transform 0.2s, -webkit-transform 0.2s;
            }

            &-contacts {
              padding: 10px 0;
              border-bottom: 1px solid #e8e8e8;

              &:last-child {
                border-bottom: 0;
              }
            }

            &-contact {
              display: block;
              font-size: 13px;
              font-weight: normal;
              line-height: 1.2;
              color: #2d2d2d;
              text-decoration: none;
              padding: 5px 10px;

              -webkit-transition: 350ms color;
              -moz-transition: 350ms color;
              -ms-transition: 350ms color;
              -o-transition: 350ms color;
              transition: 350ms color;

              &.phone {
                font-size: 19px;
                font-weight: bold;
              }
              &.schedule {
                color: #888;
              }
            }

            &-item {
              display: block;
              font-size: 12px;
              font-weight: bold;
              line-height: 18px;
              color: #2d2d2d;
              text-decoration: none;
              padding: 10px;

              -webkit-transition: 350ms color;
              -moz-transition: 350ms color;
              -ms-transition: 350ms color;
              -o-transition: 350ms color;
              transition: 350ms color;

              &:hover {
                color: #0065ff;
              }
            }
          }

          &-arrow {
            @extend %menu-panel-phone-item;

            font-size: 10px;
            width: 10px;
            text-align: right;
            line-height: 1;
            color: #2d2d2d;
            margin-left: 7px;
          }
        }

        .menu-panel-email {
          display: inline-block;
          position: relative;
          font-size: 15px;
          line-height: 18px;
          color: #2d2d2d;
          cursor: pointer;

          -webkit-transition: opacity 500ms, color 350ms, border 350ms;
          -moz-transition: opacity 500ms, color 350ms, border 350ms;
          -ms-transition: opacity 500ms, color 350ms, border 350ms;
          -o-transition: opacity 500ms, color 350ms, border 350ms;
          transition: opacity 500ms, color 350ms, border 350ms;

          &-wrap {
            display: block;
            text-align: right;
          }

          &:hover {
            color: #0065ff;
            border-color: #0065ff;
          }
        }

        &[data-expanded=true] {
          .menu-panel-email {
            opacity: 0;
          }

          .menu-panel-phone {
            &-popup {
              opacity: 1;
              pointer-events: all;
              -webkit-transition: none;
              transition: none;

              &-wrapper {
                -webkit-transform: none;
                transform: none;
              }
            }
          }
        }
      }

      &-form-call {

        &-button {
          padding: 16px 35px;
          font-size: 14px;
          background: #000;
          color: #fff;
          border: 0px;
          -webkit-border-radius: 0px;
          -moz-border-radius: 0px;
          border-radius: 0px;
          -webkit-transition: opacity 500ms, color 350ms, background-color 350ms;
          -moz-transition: opacity 500ms, color 350ms, background-color 350ms;
          -ms-transition: opacity 500ms, color 350ms, background-color 350ms;
          -o-transition: opacity 500ms, color 350ms, background-color 350ms;
          transition: opacity 500ms, color 350ms, background-color 350ms;
          cursor: pointer;
        }

      }
    }

    &-content {
      display: block;
      height: 100%;
      padding-top: 164px;
      z-index: 0;

      -webkit-box-sizing: border-box;
      -moz-box-sizing: border-box;
      box-sizing: border-box;

      &-wrapper {
        display: block;
        padding: 0;
        padding-bottom: 40px;
        height: 100%;
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
      }

      &-wrapper-2 {
        height: 100%;
      }

      &-wrapper-3 {
        outline: none;
        padding: 15px;
        padding-right: 10px;
        padding-left: 0px;
      }

      .#{$class}-item.#{$class}-item-level-0 {
        margin-bottom: 30px;

        & > .#{$class}-item-name {
          text-decoration: none;
          color: #1d1d1d;
          font-size: 18px;
          line-height: 24px;
          font-weight: bold;
          text-transform: uppercase;
          margin-bottom: 12px;

          -webkit-transition: color 350ms;
          -moz-transition: color 350ms;
          -ms-transition: color 350ms;
          -o-transition: color 350ms;
          transition: color 350ms;

          &:hover {
            color: #0065ff;
          }
        }

        & > .#{$class}-item-items {
          display: block;
          margin-top: 12px;
        }
      }

      .#{$class}-item.#{$class}-item-level-1 {
        & > .#{$class}-item-content {
          .#{$class}-item-name {
            text-decoration: none;
            color: #1d1d1d;
            font-size: 15px;
            line-height: 26px;
            font-weight: normal;
            word-break: break-all;

            -webkit-transition: color 350ms;
            -moz-transition: color 350ms;
            -ms-transition: color 350ms;
            -o-transition: color 350ms;
            transition: color 350ms;

            &:hover {
              color: #0065ff;
            }
          }

          .#{$class}-item-icon {
            font-size: 16px;
            line-height: 1;
            height: 16px;
            width: 16px;
            color: #1d1d1d;
            text-align: center;
            cursor: pointer;

            -webkit-transition-duration: 350ms;
            -moz-transition-duration: 350ms;
            -ms-transition-duration: 350ms;
            -o-transition-duration: 350ms;
            transition-duration: 350ms;

            -webkit-transition-property: color, background, transform;
            -moz-transition-property: color, background, transform;
            -ms-transition-property: color, background, transform;
            -o-transition-property: color, background, transform;
            transition-property: color, background, transform;

            -webkit-border-radius: 50%;
            -moz-border-radius: 50%;
            border-radius: 50%;

            &:hover {
              background: #0065ff;
              color: #fff;
            }
          }
        }

        & > .#{$class}-item-items {
          display: block;
          height: 0;
          padding-left: 15px;
          overflow: hidden;

          -webkit-transition-duration: 350ms;
          -moz-transition-duration: 350ms;
          -ms-transition-duration: 350ms;
          -o-transition-duration: 350ms;
          transition-duration: 350ms;

          -webkit-transition-property: padding;
          -moz-transition-property: padding;
          -ms-transition-property: padding;
          -o-transition-property: padding;
          transition-property: padding;

          -webkit-box-sizing: border-box;
          -moz-box-sizing: border-box;
          box-sizing: border-box;
        }

        &[data-expanded="true"] {
          & > .#{$class}-item-content {
            .#{$class}-item-icon {
              -webkit-transform: rotate(180deg);
              -moz-transform: rotate(180deg);
              -ms-transform: rotate(180deg);
              -o-transform: rotate(180deg);
              transform: rotate(180deg);
            }
          }

          & > .#{$class}-item-items {
            padding-top: 5px;
            padding-bottom: 10px;
          }
        }
      }

      .#{$class}-item.#{$class}-item-level-2 {
        & > .#{$class}-item-name {
          text-decoration: none;
          color: #1d1d1d;
          font-size: 12px;
          line-height: 21px;
          font-weight: normal;

          -webkit-transition: color 350ms;
          -moz-transition: color 350ms;
          -ms-transition: color 350ms;
          -o-transition: color 350ms;
          transition: color 350ms;

          &:hover {
            color: #0065ff;
          }
        }
      }
    }

    &[data-theme="black"] {
      background: #000;

      .#{$class}-panel {

        &-button {
          color: #fff;
        }

        &-contacts {
          .menu-panel-phone {
            &-text {
              color: #fff;
            }

            &-arrow {
              color: #fff;
            }
          }

          .menu-panel-email {
            color: #fff;
          }
        }

        .ns-bitrix.c-search-title.c-search-title-input-2 {
          [data-show=true] {
            border-color: rgba(255, 255, 255, 0.60);
          }

          .search-title {
            background: transparent;
          }

          .search-title-input {
            color: #fff;
          }

          .search-title-button {
            color: #fff !important;
          }
        }
      }

      .#{$class}-content {
        .#{$class}-item.#{$class}-item-level-0 {
          & > .#{$class}-item-name {
            color: #fff;
          }
        }

        .#{$class}-item.#{$class}-item-level-1 {
          & > .#{$class}-item-content {
            .#{$class}-item-name {
              color: #fff;
            }
            .#{$class}-item-icon {
              color: #fff;
            }
          }
        }

        .#{$class}-item.#{$class}-item-level-2 {
          & > .#{$class}-item-name {
            color: #fff;
          }
        }
      }

    }

  }
}