universe.basket=function(e,t){var n={},r=function(e,t,n){universe.ajax("basket."+e,t,n)};return t.extend(n,t.ext.events(n,["add","setQuantity","get","remove","clear","update","process","processed"])),n.on("update",function(){n.trigger("processed")}),n.add=function(e,i){n.trigger("process",e.id),r("add",e,function(r){!0===r&&(t.isFunction(i)&&i.apply(null),n.trigger("add",e),n.trigger("update","add",e))})},n.setQuantity=function(e,i){n.trigger("process",e.id),r("setQuantity",e,function(r){!0===r&&(t.isFunction(i)&&i.apply(null),n.trigger("setQuantity",e),n.trigger("update","setQuantity",e))})},n.remove=function(e,i){r("remove",e,function(r){!0===r&&(t.isFunction(i)&&i.apply(null),n.trigger("remove",e),n.trigger("update","remove",e))})},n.clear=function(e,i){r("clear",e,function(r){!0===r&&(t.isFunction(i)&&i.apply(null),n.trigger("clear",e),n.trigger("update","clear",e))})},n.update=function(){n.trigger("update","update")},n}(jQuery,intec);