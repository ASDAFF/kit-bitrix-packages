universe.catalog=function(e,t){var n={offers:function(e){var n=this,r=[],u=[],i=null;e=t.extend({},e),t.each(e.properties,function(e,t){r.push(t)}),t.each(e.list,function(e,t){u.push(t)}),n.getProperties=function(){return r},n.getList=function(){return u},n.getCurrent=function(){return i},n.setCurrentById=function(e){var t=n.getById(e),r=!1;return null!==t&&(r=i!==t,i=t),r?(n.trigger("change",i,n.getValues()),i):null},t.extend(n,t.ext.events(n))}};return n.offers.prototype.getById=function(e){var n=null;return t.each(this.getList(),function(t,r){if(r.id===e)return n=r,!1}),n},n.offers.prototype.getByValues=function(e){var n=this,r=null;return t.each(n.getList(),function(u,i){var s=!0;if(t.each(n.getProperties(),function(n,r){var u=i.values[r.code];t.isEmpty(u)||t.isEmpty(e[r.code])||u!=e[r.code]&&(s=!1)}),s)return r=i,!1}),r},n.offers.prototype.setCurrentByValue=function(e,n){var r,u=this.getCurrent(),i=null;return null===u?i:((r=t.extend({},u.values))[e]=n,null!==(i=this.getByValues(r))?this.setCurrentById(i.id):(r={},t.each(u.values,function(t,u){if(r[t]=u,t==e)return r[t]=n,!1}),null!==(i=this.getByValues(r))?this.setCurrentById(i.id):i))},n.offers.prototype.setCurrentByValues=function(e){var t=this.getByValues(e);return null!==t?this.setCurrentById(t.id):t},n.offers.prototype.getValues=function(){var e=this,n=e.getCurrent(),r=[],u={displayed:{},disabled:{},enabled:{},selected:{}};return t.each(e.getList(),function(e,n){t.each(n.values,function(e,n){t.isDeclared(u.displayed[e])||(u.displayed[e]=[]),t.inArray(n,u.displayed[e])||u.displayed[e].push(n)})}),t.each(e.getProperties(),function(i,s){var a=s.code;t.each(e.getList(),function(e,i){var l=!0,c=i.values[s.code];null!==n?intec.each(r,function(e,t){if(i.values[t.code]!=n.values[t.code])return l=!1,!1}):r.length>0&&(l=!1),l&&(t.isDeclared(u.enabled[a])||(u.enabled[a]=[]),t.inArray(c,u.enabled[a])||u.enabled[a].push(c))}),r.push(s)}),t.each(u.displayed,function(e,n){t.isDeclared(u.disabled[e])||(u.disabled[e]=[]),t.each(n,function(n,r){t.inArray(r,u.enabled[e])||u.disabled[e].push(r)})}),null!==n&&intec.each(n.values,function(e,n){t.isDeclared(u.selected[e])||(u.selected[e]=[]),u.selected[e].push(n)}),u},n.offers.prototype.isEmpty=function(){return 0===this.getList().length},n}(jQuery,intec);